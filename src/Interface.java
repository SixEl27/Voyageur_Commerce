import java.awt.Rectangle;
import java.awt.event.KeyEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 * 
 * @author Alexis
 */
public class Interface extends javax.swing.JFrame {

	/**
	 * Creates new form Interface2
	 */
	public Interface() {
		initComponents();
		pDessin.Refresh(VDC1);
	}

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	@SuppressWarnings("unchecked")
	// <editor-fold defaultstate="collapsed"
	// desc="Generated Code">//GEN-BEGIN:initComponents
	private void initComponents() {

		pCarte = new javax.swing.JPanel();
		pDessin = new Dessin();
		pModifVille = new javax.swing.JPanel();
		lTitreCoordonnees = new javax.swing.JLabel();
		lCoordonees = new javax.swing.JLabel();
		lTitreVille = new javax.swing.JLabel();
		tfVille = new javax.swing.JTextField();
		pAlgo = new javax.swing.JPanel();
		cbChoixAlgo = new javax.swing.JComboBox();
		bExecuter = new javax.swing.JButton();
		pTabVille = new javax.swing.JPanel();
		jMenuBar1 = new javax.swing.JMenuBar();
		mFichier = new javax.swing.JMenu();
		miGrapheAleatoire = new javax.swing.JMenuItem();
		miQuitter = new javax.swing.JMenuItem();
		mEditer = new javax.swing.JMenu();
		miReinitialiser = new javax.swing.JMenuItem();

		//==========================================================================================================================================================================
		//Modification code netbeans
		
		pDessin.addMouseMotionListener(new MouseAdapter(){

			@Override
			public void mouseMoved(MouseEvent e) {
				//Creation de la chaine de caractÃ¨re
				StringBuffer chaine=new StringBuffer();
				chaine.append("X :");
				chaine.append(e.getX());
				chaine.append(" | ");
				chaine.append("Y :");
				chaine.append(e.getY());
				lCoordonees.setText(chaine.toString());
			}
		});
		
		tfVille.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				tfVilleActionPerformed(evt);
			}
		});
		
		//==========================================================================================================================================================================

		setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
		setFocusTraversalPolicyProvider(true);
		setMinimumSize(new java.awt.Dimension(600, 600));
		setPreferredSize(new java.awt.Dimension(800, 700));

		pCarte.setLayout(new java.awt.BorderLayout());

		pDessin.setBorder(javax.swing.BorderFactory
				.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

		javax.swing.GroupLayout pDessinLayout = new javax.swing.GroupLayout(
				pDessin);
		pDessin.setLayout(pDessinLayout);
		pDessinLayout.setHorizontalGroup(pDessinLayout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 678,
				Short.MAX_VALUE));
		pDessinLayout.setVerticalGroup(pDessinLayout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 315,
				Short.MAX_VALUE));

		pCarte.add(pDessin, java.awt.BorderLayout.CENTER);

		pModifVille.setPreferredSize(new java.awt.Dimension(682, 40));

		lTitreCoordonnees.setText("Coordonnées :");

		lTitreVille.setText("Ville :");


		javax.swing.GroupLayout pModifVilleLayout = new javax.swing.GroupLayout(
				pModifVille);
		pModifVille.setLayout(pModifVilleLayout);
		pModifVilleLayout
				.setHorizontalGroup(pModifVilleLayout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(
								pModifVilleLayout
										.createSequentialGroup()
										.addContainerGap()
										.addComponent(
												lTitreCoordonnees,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												84,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
										.addComponent(
												lCoordonees,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												124,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(
												lTitreVille,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												36,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(
												tfVille,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												95,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addContainerGap(313, Short.MAX_VALUE)));
		pModifVilleLayout
				.setVerticalGroup(pModifVilleLayout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(
								pModifVilleLayout
										.createParallelGroup(
												javax.swing.GroupLayout.Alignment.BASELINE)
										.addComponent(
												lTitreCoordonnees,
												javax.swing.GroupLayout.DEFAULT_SIZE,
												javax.swing.GroupLayout.DEFAULT_SIZE,
												Short.MAX_VALUE)
										.addComponent(
												lCoordonees,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												40,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addComponent(
												lTitreVille,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												40,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addComponent(
												tfVille,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												javax.swing.GroupLayout.DEFAULT_SIZE,
												javax.swing.GroupLayout.PREFERRED_SIZE)));

		pCarte.add(pModifVille, java.awt.BorderLayout.NORTH);

		pAlgo.setPreferredSize(new java.awt.Dimension(682, 40));

		cbChoixAlgo.setModel(new javax.swing.DefaultComboBoxModel(new String[] {
				"Item 1", "Item 2", "Item 3", "Item 4" }));
		cbChoixAlgo.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				cbChoixAlgoActionPerformed(evt);
			}
		});

		bExecuter.setText("Exécuter");
		bExecuter.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				bExecuterActionPerformed(evt);
			}
		});

		javax.swing.GroupLayout pAlgoLayout = new javax.swing.GroupLayout(pAlgo);
		pAlgo.setLayout(pAlgoLayout);
		pAlgoLayout
				.setHorizontalGroup(pAlgoLayout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(
								pAlgoLayout
										.createSequentialGroup()
										.addContainerGap()
										.addComponent(
												cbChoixAlgo,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												180,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addPreferredGap(
												javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(
												bExecuter,
												javax.swing.GroupLayout.PREFERRED_SIZE,
												111,
												javax.swing.GroupLayout.PREFERRED_SIZE)
										.addContainerGap(375, Short.MAX_VALUE)));
		pAlgoLayout.setVerticalGroup(pAlgoLayout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGroup(
				pAlgoLayout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.BASELINE)
						.addComponent(bExecuter,
								javax.swing.GroupLayout.PREFERRED_SIZE, 40,
								javax.swing.GroupLayout.PREFERRED_SIZE)
						.addComponent(cbChoixAlgo,
								javax.swing.GroupLayout.PREFERRED_SIZE,
								javax.swing.GroupLayout.DEFAULT_SIZE,
								javax.swing.GroupLayout.PREFERRED_SIZE)));

		pCarte.add(pAlgo, java.awt.BorderLayout.SOUTH);

		getContentPane().add(pCarte, java.awt.BorderLayout.CENTER);

		pTabVille.setBorder(javax.swing.BorderFactory
				.createLineBorder(new java.awt.Color(204, 204, 204)));
		pTabVille.setPreferredSize(new java.awt.Dimension(100, 399));

		javax.swing.GroupLayout pTabVilleLayout = new javax.swing.GroupLayout(
				pTabVille);
		pTabVille.setLayout(pTabVilleLayout);
		pTabVilleLayout.setHorizontalGroup(pTabVilleLayout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 98,
				Short.MAX_VALUE));
		pTabVilleLayout.setVerticalGroup(pTabVilleLayout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 397,
				Short.MAX_VALUE));

		getContentPane().add(pTabVille, java.awt.BorderLayout.EAST);

		mFichier.setText("Fichier");

		miGrapheAleatoire.setText("Créer un graphe aléatoire");
		mFichier.add(miGrapheAleatoire);

		miQuitter.setText("Quitter");
		miQuitter.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				miQuitterActionPerformed(evt);
			}
		});
		mFichier.add(miQuitter);

		jMenuBar1.add(mFichier);

		mEditer.setText("Editer");

		miReinitialiser.setText("Re-initialiser");
		miReinitialiser.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				miReinitialiserActionPerformed(evt);
			}
		});
		mEditer.add(miReinitialiser);

		jMenuBar1.add(mEditer);

		setJMenuBar(jMenuBar1);

		pack();
	}// </editor-fold>//GEN-END:initComponents

	private void cbChoixAlgoActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_cbChoixAlgoActionPerformed
		// TODO add your handling code here:
	}// GEN-LAST:event_cbChoixAlgoActionPerformed

	private void bExecuterActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_bExecuterActionPerformed
		// TODO add your handling code here:
	}// GEN-LAST:event_bExecuterActionPerformed

	private void tfVilleActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_tfVilleActionPerformed
        String text=tfVille.getText();
        if(text.length()!=0){	
        	int x = pDessin.getx();
        	int y = pDessin.gety();
        	//System.out.println(Integer.toString(x)+" "+Integer.toString(y));
        	Ville v=new Ville(x,y,text);
        	VDC1.ajouterVille(v);	
        	pDessin.Refresh(VDC1);
        	tfVille.setText("");
        	
        }
        else{
        	System.out.println(text);
        	tfVille.setText("");
        }
	}// GEN-LAST:event_tfVilleActionPerformed

	private void miQuitterActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_miQuitterActionPerformed
		// TODO add your handling code here:
	}// GEN-LAST:event_miQuitterActionPerformed

	private void miReinitialiserActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_miReinitialiserActionPerformed
		// TODO add your handling code here:
	}// GEN-LAST:event_miReinitialiserActionPerformed

	/**
	 * @param args
	 *            the command line arguments
	 */
	public static void main(String args[]) {
		/* Set the Nimbus look and feel */
		// <editor-fold defaultstate="collapsed"
		// desc=" Look and feel setting code (optional) ">
		/*
		 * If Nimbus (introduced in Java SE 6) is not available, stay with the
		 * default look and feel. For details see
		 * http://download.oracle.com/javase
		 * /tutorial/uiswing/lookandfeel/plaf.html
		 */
		try {
			for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager
					.getInstalledLookAndFeels()) {
				if ("Nimbus".equals(info.getName())) {
					javax.swing.UIManager.setLookAndFeel(info.getClassName());
					break;
				}
			}
		} catch (ClassNotFoundException ex) {
			java.util.logging.Logger.getLogger(Interface.class.getName()).log(
					java.util.logging.Level.SEVERE, null, ex);
		} catch (InstantiationException ex) {
			java.util.logging.Logger.getLogger(Interface.class.getName()).log(
					java.util.logging.Level.SEVERE, null, ex);
		} catch (IllegalAccessException ex) {
			java.util.logging.Logger.getLogger(Interface.class.getName()).log(
					java.util.logging.Level.SEVERE, null, ex);
		} catch (javax.swing.UnsupportedLookAndFeelException ex) {
			java.util.logging.Logger.getLogger(Interface.class.getName()).log(
					java.util.logging.Level.SEVERE, null, ex);
		}
		// </editor-fold>
		// </editor-fold>

		/* Create and display the form */
		java.awt.EventQueue.invokeLater(new Runnable() {
			public void run() {
				new Interface().setVisible(true);
			}
		});
	}

	// Variables declaration - do not modify//GEN-BEGIN:variables
	private javax.swing.JButton bExecuter;
	private javax.swing.JComboBox cbChoixAlgo;
	private javax.swing.JMenuBar jMenuBar1;
	private javax.swing.JLabel lCoordonees;
	private javax.swing.JLabel lTitreCoordonnees;
	private javax.swing.JLabel lTitreVille;
	private javax.swing.JMenu mEditer;
	private javax.swing.JMenu mFichier;
	private javax.swing.JMenuItem miGrapheAleatoire;
	private javax.swing.JMenuItem miQuitter;
	private javax.swing.JMenuItem miReinitialiser;
	private javax.swing.JPanel pAlgo;
	private javax.swing.JPanel pCarte;
	private Dessin pDessin;
	private javax.swing.JPanel pModifVille;
	private javax.swing.JPanel pTabVille;
	private javax.swing.JTextField tfVille;
	VDC VDC1=new VDC("essai");
	// End of variables declaration//GEN-END:variables
}
